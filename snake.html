<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Tech</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0d1117;
    color: #00ff88;
    font-family: 'Courier New', monospace;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    overflow: hidden;
  }
  h1 { font-size: 1.6rem; letter-spacing: 4px; color: #00ff88; text-shadow: 0 0 10px #00ff88; margin-bottom: 6px; }
  #info { display: flex; gap: 30px; margin-bottom: 10px; font-size: 0.9rem; color: #8b949e; }
  #info span { color: #00ff88; }
  #canvas-wrap { position: relative; }
  canvas {
    border: 2px solid #00ff88;
    box-shadow: 0 0 20px #00ff8855;
    display: block;
  }
  #overlay {
    position: absolute; inset: 0;
    background: #0d1117cc;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    gap: 12px;
  }
  #overlay h2 { font-size: 1.4rem; color: #00ff88; text-shadow: 0 0 8px #00ff88; }
  #overlay p { color: #8b949e; font-size: 0.85rem; }
  button {
    background: transparent;
    border: 2px solid #00ff88;
    color: #00ff88;
    padding: 10px 28px;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    cursor: pointer;
    letter-spacing: 2px;
    transition: all 0.2s;
  }
  button:hover { background: #00ff8822; box-shadow: 0 0 12px #00ff88; }
  #tip { margin-top: 8px; font-size: 0.75rem; color: #3d4550; }
</style>
</head>
<body>
<h1>&lt; SNAKE.EXE /&gt;</h1>
<div id="info">SCORE: <span id="score">0</span> &nbsp;|&nbsp; HIGH: <span id="high">0</span> &nbsp;|&nbsp; LEVEL: <span id="level">1</span></div>
<div id="canvas-wrap">
  <canvas id="c" width="400" height="400"></canvas>
  <div id="overlay">
    <h2>// SNAKE TECH</h2>
    <p>Come os Ã­cones de tecnologia!</p>
    <button onclick="startGame()">â–¶ INICIAR</button>
    <p id="tip">Use as setas do teclado ou WASD</p>
  </div>
</div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const CELL = 20, COLS = 20, ROWS = 20;
const foods = ['âš¡','ðŸ”§','ðŸ’¾','ðŸ“¡','ðŸ–¥ï¸','âŒ¨ï¸','ðŸ”‹','ðŸ›'];

let snake, dir, nextDir, food, foodType, score, hi = 0, lvl, loop, running = false;

function startGame() {
  document.getElementById('overlay').style.display = 'none';
  snake = [{x:10,y:10},{x:9,y:10},{x:8,y:10}];
  dir = {x:1,y:0}; nextDir = {x:1,y:0};
  score = 0; lvl = 1;
  spawnFood();
  updateInfo();
  clearInterval(loop);
  running = true;
  loop = setInterval(tick, 150 - (lvl-1)*10);
}

function spawnFood() {
  do {
    food = {x: Math.floor(Math.random()*COLS), y: Math.floor(Math.random()*ROWS)};
  } while (snake.some(s => s.x===food.x && s.y===food.y));
  foodType = foods[Math.floor(Math.random()*foods.length)];
}

function tick() {
  dir = nextDir;
  const head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
  if (head.x<0||head.x>=COLS||head.y<0||head.y>=ROWS||snake.some(s=>s.x===head.x&&s.y===head.y)) {
    gameOver(); return;
  }
  snake.unshift(head);
  if (head.x===food.x && head.y===food.y) {
    score += 10 * lvl;
    if (score >= lvl*100) { lvl++; clearInterval(loop); loop = setInterval(tick, Math.max(60, 150-(lvl-1)*15)); }
    spawnFood();
  } else snake.pop();
  updateInfo(); draw();
}

function draw() {
  // bg grid
  ctx.fillStyle = '#0d1117';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.strokeStyle = '#161b22';
  for(let i=0;i<COLS;i++) for(let j=0;j<ROWS;j++) {
    ctx.strokeRect(i*CELL,j*CELL,CELL,CELL);
  }
  // snake
  snake.forEach((s,i) => {
    const g = ctx.createLinearGradient(s.x*CELL,s.y*CELL,(s.x+1)*CELL,(s.y+1)*CELL);
    g.addColorStop(0, i===0?'#00ff88':'#00cc66');
    g.addColorStop(1, i===0?'#00cc66':'#008844');
    ctx.fillStyle = g;
    ctx.shadowColor = '#00ff88';
    ctx.shadowBlur = i===0 ? 12 : 4;
    ctx.fillRect(s.x*CELL+1,s.y*CELL+1,CELL-2,CELL-2);
    ctx.shadowBlur = 0;
    // head eyes
    if(i===0) {
      ctx.fillStyle='#0d1117';
      const ex = dir.x===0?4:dir.x>0?12:2, ey = dir.y===0?4:dir.y>0?12:2;
      ctx.fillRect(s.x*CELL+ex, s.y*CELL+ey, 3,3);
    }
  });
  // food
  ctx.font = `${CELL-2}px serif`;
  ctx.textAlign='center'; ctx.textBaseline='middle';
  ctx.shadowColor='#fff'; ctx.shadowBlur=8;
  ctx.fillText(foodType, food.x*CELL+CELL/2, food.y*CELL+CELL/2);
  ctx.shadowBlur=0;
}

function gameOver() {
  running = false; clearInterval(loop);
  if (score>hi) hi=score;
  const ov = document.getElementById('overlay');
  ov.innerHTML = `<h2>// GAME OVER</h2>
    <p>Score: ${score} | Recorde: ${hi}</p>
    <button onclick="startGame()">â–¶ REINICIAR</button>`;
  ov.style.display='flex';
}

function updateInfo() {
  document.getElementById('score').textContent = score;
  document.getElementById('high').textContent = hi;
  document.getElementById('level').textContent = lvl;
}

document.addEventListener('keydown', e => {
  const map = {
    ArrowUp:{x:0,y:-1}, ArrowDown:{x:0,y:1}, ArrowLeft:{x:-1,y:0}, ArrowRight:{x:1,y:0},
    w:{x:0,y:-1}, s:{x:0,y:1}, a:{x:-1,y:0}, d:{x:1,y:0}
  };
  const nd = map[e.key];
  if (nd && !(nd.x===-dir.x && nd.y===-dir.y)) { nextDir=nd; e.preventDefault(); }
});

// mobile swipe
let tx,ty;
canvas.addEventListener('touchstart',e=>{tx=e.touches[0].clientX;ty=e.touches[0].clientY;},{passive:true});
canvas.addEventListener('touchend',e=>{
  const dx=e.changedTouches[0].clientX-tx, dy=e.changedTouches[0].clientY-ty;
  if(Math.abs(dx)>Math.abs(dy)) nextDir=dx>0?{x:1,y:0}:{x:-1,y:0};
  else nextDir=dy>0?{x:0,y:1}:{x:0,y:-1};
  if(nextDir.x===-dir.x&&nextDir.y===-dir.y) nextDir=dir;
},{passive:true});

draw();
</script>
</body>
</html>