<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Hello Kitty</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #ffe4f0;
    font-family: 'Courier New', monospace;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background-image: radial-gradient(#ffb6d9 1px, transparent 1px);
    background-size: 20px 20px;
  }
  h1 {
    font-size: 1.8rem;
    color: #ff69b4;
    text-shadow: 2px 2px 0 #fff, 4px 4px 0 #ffb6d9;
    margin-bottom: 6px;
    letter-spacing: 2px;
  }
  #info {
    display: flex; gap: 20px;
    margin-bottom: 10px;
    font-size: 0.9rem;
    color: #ff69b4;
    background: #fff;
    padding: 6px 20px;
    border-radius: 20px;
    border: 2px solid #ffb6d9;
    box-shadow: 0 2px 8px #ffb6d955;
  }
  #canvas-wrap { position: relative; }
  canvas {
    border: 4px solid #ff69b4;
    border-radius: 16px;
    box-shadow: 0 0 24px #ff69b455;
    display: block;
  }
  #overlay {
    position: absolute; inset: 0;
    background: #ffe4f0ee;
    border-radius: 12px;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    gap: 12px;
  }
  #overlay h2 { font-size: 1.6rem; color: #ff69b4; }
  #overlay p { color: #ff9dca; font-size: 0.9rem; }
  button {
    background: #ff69b4;
    border: none;
    color: #fff;
    padding: 10px 30px;
    font-size: 1rem;
    border-radius: 25px;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    letter-spacing: 1px;
    box-shadow: 0 4px 0 #d44f96;
    transition: all 0.1s;
  }
  button:active { transform: translateY(3px); box-shadow: 0 1px 0 #d44f96; }
  button:hover { background: #ff85c2; }
</style>
</head>
<body>
<h1>üéÄ Hello Snake! üéÄ</h1>
<div id="info">
  üå∏ SCORE: <b id="score">0</b> &nbsp;|&nbsp; üèÜ RECORDE: <b id="high">0</b> &nbsp;|&nbsp; ‚≠ê LEVEL: <b id="level">1</b>
</div>
<div id="canvas-wrap">
  <canvas id="c" width="400" height="400"></canvas>
  <div id="overlay">
    <div style="font-size:3rem">üê±</div>
    <h2>Hello Snake!</h2>
    <p>Come os itens fofos da Kitty!</p>
    <button onclick="startGame()">‚ñ∂ JOGAR</button>
    <p style="font-size:0.75rem;color:#ffb6d9">Setas do teclado ou WASD ‚Ä¢ Swipe no celular</p>
  </div>
</div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const CELL = 20, COLS = 20, ROWS = 20;
const foods = ['üéÄ','üå∏','üç≠','‚≠ê','üéÇ','üíñ','üå∫','üçì','üéÅ','üíù'];

let snake, dir, nextDir, food, foodType, score, hi = 0, lvl, loop, running = false;

function startGame() {
  document.getElementById('overlay').style.display = 'none';
  snake = [{x:10,y:10},{x:9,y:10},{x:8,y:10}];
  dir = {x:1,y:0}; nextDir = {x:1,y:0};
  score = 0; lvl = 1;
  spawnFood(); updateInfo();
  clearInterval(loop);
  running = true;
  loop = setInterval(tick, 150);
}

function spawnFood() {
  do {
    food = {x: Math.floor(Math.random()*COLS), y: Math.floor(Math.random()*ROWS)};
  } while (snake.some(s => s.x===food.x && s.y===food.y));
  foodType = foods[Math.floor(Math.random()*foods.length)];
}

function tick() {
  dir = nextDir;
  const head = {x: snake[0].x+dir.x, y: snake[0].y+dir.y};
  if (head.x<0||head.x>=COLS||head.y<0||head.y>=ROWS||snake.some(s=>s.x===head.x&&s.y===head.y)) {
    gameOver(); return;
  }
  snake.unshift(head);
  if (head.x===food.x && head.y===food.y) {
    score += 10*lvl;
    if (score >= lvl*100) { lvl++; clearInterval(loop); loop = setInterval(tick, Math.max(60,150-(lvl-1)*15)); }
    spawnFood();
  } else snake.pop();
  updateInfo(); draw();
}

function draw() {
  // bg
  ctx.fillStyle = '#fff0f8';
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // grid suave
  ctx.strokeStyle = '#ffe4f0';
  for(let i=0;i<COLS;i++) for(let j=0;j<ROWS;j++) ctx.strokeRect(i*CELL,j*CELL,CELL,CELL);

  // cobra
  snake.forEach((s,i) => {
    const x = s.x*CELL, y = s.y*CELL;
    // corpo
    ctx.fillStyle = i===0 ? '#ff69b4' : (i%2===0 ? '#ff85c2' : '#ffb6d9');
    ctx.beginPath();
    ctx.roundRect(x+1,y+1,CELL-2,CELL-2,6);
    ctx.fill();

    // la√ßo no topo da cabe√ßa
    if (i===0) {
      // olhos
      ctx.fillStyle = '#fff';
      const ex1 = dir.x>0?10:dir.x<0?4: 5;
      const ex2 = dir.x>0?13:dir.x<0?7: 11;
      const ey  = dir.y>0?12:dir.y<0?4: 7;
      ctx.fillRect(x+ex1,y+ey,4,4);
      ctx.fillRect(x+ex2,y+ey,4,4);
      ctx.fillStyle='#333';
      ctx.fillRect(x+ex1+1,y+ey+1,2,2);
      ctx.fillRect(x+ex2+1,y+ey+1,2,2);
      // nariz
      ctx.fillStyle='#ff1493';
      ctx.fillRect(x+9,y+ey+4,2,1);
    }

    // la√ßo em algumas partes do corpo
    if (i>0 && i%4===0) {
      ctx.font='10px serif';
      ctx.textAlign='center';
      ctx.textBaseline='middle';
      ctx.fillText('üéÄ',x+CELL/2,y+CELL/2);
    }
  });

  // comida
  ctx.font=`${CELL}px serif`;
  ctx.textAlign='center'; ctx.textBaseline='middle';
  ctx.fillText(foodType, food.x*CELL+CELL/2, food.y*CELL+CELL/2+1);
}

function gameOver() {
  running=false; clearInterval(loop);
  if(score>hi) hi=score;
  const ov=document.getElementById('overlay');
  ov.innerHTML=`<div style="font-size:2.5rem">üòø</div>
    <h2 style="color:#ff69b4">Fim de Jogo!</h2>
    <p>Score: <b>${score}</b> | Recorde: <b>${hi}</b></p>
    <button onclick="startGame()">‚ñ∂ JOGAR DE NOVO</button>`;
  ov.style.display='flex';
}

function updateInfo() {
  document.getElementById('score').textContent=score;
  document.getElementById('high').textContent=hi;
  document.getElementById('level').textContent=lvl;
}

document.addEventListener('keydown',e=>{
  const map={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0},
    w:{x:0,y:-1},s:{x:0,y:1},a:{x:-1,y:0},d:{x:1,y:0}};
  const nd=map[e.key];
  if(nd&&!(nd.x===-dir.x&&nd.y===-dir.y)){nextDir=nd;e.preventDefault();}
});

let tx,ty;
canvas.addEventListener('touchstart',e=>{tx=e.touches[0].clientX;ty=e.touches[0].clientY;},{passive:true});
canvas.addEventListener('touchend',e=>{
  const dx=e.changedTouches[0].clientX-tx,dy=e.changedTouches[0].clientY-ty;
  if(Math.abs(dx)>Math.abs(dy)) nextDir=dx>0?{x:1,y:0}:{x:-1,y:0};
  else nextDir=dy>0?{x:0,y:1}:{x:0,y:-1};
  if(nextDir.x===-dir.x&&nextDir.y===-dir.y) nextDir=dir;
},{passive:true});

draw();
</script>
</body>
</html>
